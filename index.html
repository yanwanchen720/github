
<html>

<head>

<title>考试文件上传</title>
<meta http-equiv="Content-Type" content="text/html"; charset="utf-8">
<style type="text/css">
	
.bt{
font-size: 30px;
color: red;

text-align: center;



}

</style>

</head>
<body style="background:url(bg.jpg) 0 0 no-repeat scroll transparent;background-size:100% 100%;">
<div id="result" class="bt"></div>
<div class="bt"><h1>考试文件上传<h1></div>

<div align="center">
<form action="upload_file.php"  method="post" enctype="multipart/form-data"  onsubmit="return f1();">

<p id='pp' style=""><input type="file" name="file[]" id="up"  /> </p><br/><br/>

<input type="submit" name="submit" value="点击上传" style="width: 200px;height:40px;color: red;background-color: 	#E0EEEE;font-size: 30px;font-weight:bold;"/>


</form>

<p align="center" id="aa"  style='font-size:30px;color:red;margin-top:30px; font-weight: bolder;'></p>

</div>

</body>
</html>

 <script type="text/javascript">


        window.onload = function(){

            start();
            var fm = document.getElementsByTagName('form')[0];

            fm.onsubmit = function(evt){

                //① 收集表单信息 FormData
                var fd = new FormData(this);

                //② ajax传递表单信息到服务器

                var xhr = new XMLHttpRequest();

                xhr.onreadystatechange = function(){

                    if(xhr.readyState==4){

                       var text= xhr.responseText;

                     

                  document.getElementById("aa").innerHTML=text;

                    }
                }
                xhr.open('post','./upload_file.php');

                xhr.send(fd);

                evt.preventDefault(); //阻止浏览器form提交动作
            }
        }
    function start(){
  var today=new Date();
  var year=today.getFullYear();
  var month=today.getMonth()+1;
  var day=today.getDate();
  var hours=today.getHours();
  var minutes=today.getMinutes();
  var seconds=today.getSeconds();
  //如果是单位数字，前面补0
  month=month<10? "0"+month :month;
  day=day<10? "0"+day :day;
  hours=hours<10? "0"+hours :hours;
  minutes=minutes<10? "0"+minutes :minutes;
  seconds=seconds<10? "0"+seconds :seconds;
  //时间信息连成字符串
  var str="今天是"+year+"年"+month+"月"+day+"日 "+hours+":"+minutes+":"+seconds;
  //获取id=result的内容
  var obj=document.getElementById("result");

  obj.innerHTML=str;
  //延时器
  window.setTimeout("start()",1000);
}
        </script>
